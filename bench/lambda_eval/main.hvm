// Generated by bend --to-hvm.
@Nat = &{}

@List = λ&A. &{}

@Char = &{}

@String = (@List)(@Char)

@Tm = &{}

@Bool = &{}

@St = &{}

@rng = λ&seed. ((seed * 1664525) + 1013904223)

@u2b = λ{0: #F{}; λ&k. #T{}}

@shift_above = λ{#var: λ&k. λ&by. λ&dep. (((@shift_var)(k))(by))(dep); _: λ{#lam: λ&bod. λ&by. λ&dep. #lam{(((@shift_above)(bod))(by))((dep + 1))}; _: λ{#app: λ&fun. λ&arg. λ&by. λ&dep. #app{(((@shift_above)(fun))(by))(dep), (((@shift_above)(arg))(by))(dep)}; _: λ{}}}}

@shift_var = λ&k. λ&by. λ&dep. (((@shift_var_go)((@u2b)((k < dep))))(k))(by)

@shift_var_go = λ{#T: λ&k. λ&by. #var{k}; _: λ{#F: λ&k. λ&by. #var{(k + by)}; _: λ{}}}

@subst0 = λ&tm. λ&arg. (((@subst_dep)(tm))(arg))(0)

@subst_dep = λ{#var: λ&k. λ&arg. λ&dep. (((@subst_var)(k))(arg))(dep); _: λ{#lam: λ&bod. λ&arg. λ&dep. #lam{(((@subst_dep)(bod))(arg))((dep + 1))}; _: λ{#app: λ&fun. λ&val. λ&arg. λ&dep. !&fun_1 = (((@subst_dep)(fun))(arg))(dep); !&val_1 = (((@subst_dep)(val))(arg))(dep); #app{fun, val}; _: λ{}}}}

@subst_var = λ&k. λ&arg. λ&dep. ((((@subst_var_go)((@u2b)((k == dep))))(k))(arg))(dep)

@subst_var_go = λ{#T: λ&k. λ&arg. λ&dep. (((@shift_above)(arg))(dep))(0); _: λ{#F: λ&k. λ&arg. λ&dep. ((@subst_var_ne)(k))(dep); _: λ{}}}

@subst_var_ne = λ&k. λ&dep. ((@subst_var_ne_go)((@u2b)((k > dep))))(k)

@subst_var_ne_go = λ{#T: λ&k. #var{(k - 1)}; _: λ{#F: λ&k. #var{k}; _: λ{}}}

@wnf = λ{#var: λ&k. #var{k}; _: λ{#lam: λ&bod. #lam{bod}; _: λ{#app: λ&fun. λ&arg. ((@wnf_app)(fun))(arg); _: λ{}}}}

@wnf_app = λ&fun. λ&arg. ((@wnf_app_go)((@wnf)(fun)))(arg)

@wnf_app_go = λ{#lam: λ&bod. λ&arg. (@wnf)(((@subst0)(bod))(arg)); _: λ{#var: λ&k. λ&arg. #app{#var{k}, arg}; _: λ{#app: λ&f0. λ&f1. λ&arg. #app{#app{f0, f1}, arg}; _: λ{}}}}

@nf = λ&tm. (@nf_go)((@wnf)(tm))

@nf_go = λ{#var: λ&k. #var{k}; _: λ{#lam: λ&bod. #lam{(@nf)(bod)}; _: λ{#app: λ&fun. λ&arg. !&fun_1 = (@nf)(fun); !&arg_1 = (@nf)(arg); #app{fun, arg}; _: λ{}}}}

@c_zero = #lam{#lam{#var{0}}}

@c_succ = #lam{#lam{#lam{#app{#var{1}, #app{#app{#var{2}, #var{1}}, #var{0}}}}}}

@c_add = #lam{#lam{#lam{#lam{#app{#app{#var{3}, #var{1}}, #app{#app{#var{2}, #var{1}}, #var{0}}}}}}}

@c_mul = #lam{#lam{#lam{#lam{#app{#app{#var{3}, #app{#var{2}, #var{1}}}, #var{0}}}}}}

@church = λ&n. ((@church_go)((@u2b)((n == 0))))(n)

@church_go = λ{#T: λ&n. @c_zero; _: λ{#F: λ&n. (@church_suc)(n); _: λ{}}}

@church_suc = λ&n. #app{@c_succ, (@church)((n - 1))}

@church_to_u32 = λ{#lam: λ&bod. (@church_to_u32_lam)(bod); _: λ&tm. 0}

@church_to_u32_lam = λ{#lam: λ&inner. (@count_apps)(inner); _: λ&bod. 0}

@is_var = λ{#var: λ&k. λ&idx. (λ{0: 0; λ&x. 1})((k == idx)); _: λ&tm. λ&idx. 0}

@count_apps = λ{#var: λ&k. 0; _: λ{#lam: λ&bod. (@count_apps)(bod); _: λ{#app: λ&fun. λ&arg. ((@count_app)(fun))(arg); _: λ{}}}}

@count_app = λ&fun. λ&arg. (λ{0: ((@count_apps)(fun) + (@count_apps)(arg)); λ&x. ((@count_apps)(arg) + 1)})(((@is_var)(fun))(1))

@eval_expr = λ&a. λ&b. λ&c. (@church_to_u32)((@nf)(#app{#app{@c_mul, #app{#app{@c_add, #app{#app{@c_mul, a}, b}}, c}}, (@church)(2)}))

@round = λ&seed. λ&acc. !&na = (20 + (seed % 4)); !&nb = (19 + ((seed >> 3) % 4)); !&nc = (17 + ((seed >> 5) % 3)); !&r0 = (((@eval_expr)((@church)(na)))((@church)(nb)))((@church)(nc)); !&r1 = (((@eval_expr)((@church)(nb)))((@church)(nc)))((@church)(na)); !&acc_1 = ((((acc ^ r0) * 16777619) + (r1 * 131)) + seed); !&seed_1 = (@rng)(seed); #st{seed, acc}

@round_st = λ{#st: λ&seed. λ&acc. ((@round)(seed))(acc); _: λ{}}

@bench = λ&rounds. λ&seed. λ&acc. (λ{0: (((@bench_go)(rounds))(seed))(acc); λ&x. acc})((rounds == 0))

@bench_go = λ&rounds. λ&seed. λ&acc. !&s = ((@round)(seed))(acc); !&s_1 = (@round_st)(s); !&s_2 = (@round_st)(s); !&s_3 = (@round_st)(s); !&rounds_1 = (rounds - 1); ((@bench_take)(rounds))(s)

@bench_take = λ&rounds. λ{#st: λ&seed. λ&acc. (((@bench)(rounds))(seed))(acc); _: λ{}}

@main = (((@bench)(12))(1))(0)
